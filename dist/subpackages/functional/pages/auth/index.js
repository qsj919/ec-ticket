"use strict";require("../../sub-vendors.js");require("../../sub-common/468ac9691e0a3195dad10b9a9c31ab9a.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[5209],{40048:function(e,t,n){var a=n(32180),s=n(33661),A=n(12742),i=n(22700),o=n(95333),r=n(14175),l=n(3701),c=n(92954),g=n.n(c),u=n(67294),h=n(71515),m=n(91629),B=n(97154),V=n(59132),d=n(75508),Q=n(53252),p=n(19497),C="auth-module__page___QBMq_",f="auth-module__container___zk1Br",Z="auth-module__title___wSnpr",v="auth-module__warn___gAAeb",I="auth-module__qr___fPsXk",w="auth-module__tips___XdVKB",x="auth-module__tips__text___upauw",E="auth-module__history___JAzTT",J=n(85893),k=function(e){(0,o.Z)(n,e);var t=(0,r.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,A=new Array(a),o=0;o<a;o++)A[o]=arguments[o];return e=t.call.apply(t,[this].concat(A)),(0,l.Z)((0,i.Z)(e),"emptyInfo",{label:"尚未关联任何店铺，快去扫码关联吧～",image:"data:image/png;base64,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"}),(0,l.Z)((0,i.Z)(e),"scale",1),(0,l.Z)((0,i.Z)(e),"timer",void 0),(0,l.Z)((0,i.Z)(e),"onCheckAuth",(function(){m.Z.navigateTo({url:"/subpackages/functional/pages/auth_history/index"})})),(0,l.Z)((0,i.Z)(e),"drawQr",(function(){var t=Date.now(),n=e.props.mpUserId,a="".concat(Q.Z.authQrUrlPrefix,"mpUserId=").concat(n,"&timestamp=").concat(t,"&from=auth");(0,B.Z)({width:480*e.scale,height:480*e.scale,canvasId:"qr",_this:g().getCurrentInstance().page,text:a,correctLevel:0})})),(0,l.Z)((0,i.Z)(e),"startCountDown",(function(){e.clearTimer(),e.timer=setInterval((function(){e.drawQr()}),18e4)})),(0,l.Z)((0,i.Z)(e),"clearTimer",(function(){e.timer&&clearInterval(e.timer)})),(0,l.Z)((0,i.Z)(e),"onUpdateQrClick",(function(){e.drawQr(),e.startCountDown()})),e}return(0,A.Z)(n,[{key:"componentDidMount",value:function(){var e=g().getSystemInfoSync().windowWidth;this.scale=e/750,this.drawQr(),this.startCountDown()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){return this.props.haveAtLeastOneShop?(0,J.jsx)(h.View,{className:C,children:(0,J.jsxs)(h.View,{className:f,children:[(0,J.jsx)(h.View,{className:Z,children:"扫码进行授权"}),(0,J.jsx)(h.View,{className:v,children:"授权后对方可以查看您的所有单据"}),(0,J.jsx)(h.Canvas,{canvasId:"qr",className:I}),(0,J.jsxs)(h.View,{className:w,onClick:this.onUpdateQrClick,children:[(0,J.jsx)(V.AtIcon,{value:"reload",size:15}),(0,J.jsx)(h.View,{className:x,children:"二维码每3分钟自动更新"})]}),(0,J.jsx)(h.View,{className:E,onClick:this.onCheckAuth,children:"查看授权用户"})]})}):(0,J.jsx)(p.Z,{emptyInfo:this.emptyInfo})}}]),n}(u.PureComponent),X=(0,d.$j)((function(e){var t=e.user,n=e.shop;return{mpUserId:t.mpUserId,haveAtLeastOneShop:n.list.length>0}}))(k);Page((0,a.createPageConfig)(X,"subpackages/functional/pages/auth/index",{root:{cn:[]}},{navigationBarTitleText:"授权管理"}||{}))}},function(e){e.O(0,[6538,2107,1216,8592],(function(){return t=40048,e(e.s=t);var t}));e.O()}]);