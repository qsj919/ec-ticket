"use strict";require("../../sub-vendors.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[2874],{79790:function(e,t,i){var r=i(32180),n=i(33661),a=i(12742),s=i(22700),c=i(95333),o=i(14175),u=i(3701),l=i(92954),d=i.n(l),h=i(67294),z=i(71515),_=i(29748),p=i(63056),f=i(6420),P=i(94184),v=i.n(P),g="index-module__container___s89WF",m="index-module__cell___XdkJk",x="index-module__name___urdFT",Z="index-module__status___am6LK",w="index-module__status--alive___apEEd",k=i(1942),y=i(85893),b=function(e){(0,c.Z)(i,e);var t=(0,o.Z)(i);function i(){var e;(0,n.Z)(this,i);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,s.Z)(e),"state",{prizeRecords:[],isPrizeModalVisible:!1,currentPrize:null}),(0,u.Z)((0,s.Z)(e),"onPrizeClick",(function(t){1===t.flag&&e.setState({isPrizeModalVisible:!0,currentPrize:t})})),(0,u.Z)((0,s.Z)(e),"hideModal",(function(){e.setState({isPrizeModalVisible:!1})})),(0,u.Z)((0,s.Z)(e),"prizeStatus",(function(e){switch(e){case 0:return"已过期";case 1:return"立即兑换";case 2:return"已兑换"}})),e}return(0,a.Z)(i,[{key:"componentDidMount",value:function(){var e,t=this,i=(0,f.JU)(null===(e=d().getCurrentInstance)||void 0===e?void 0:e.call(d())).activityId;d().showLoading(),(0,_.fy)(i).then((function(e){var i=e.data;d().hideLoading(),t.setState({prizeRecords:i.rows}),0===i.rows.length&&p.Z.showAlert("没有查询到您的中奖记录，快去参与抽奖吧～","提示","确认",(function(){d().navigateBack()}))})).catch((function(e){d().hideLoading()}))}},{key:"render",value:function(){var e=this,t=this.state.currentPrize;return(0,y.jsxs)(z.View,{className:g,children:[this.state.prizeRecords.map((function(t){return(0,y.jsxs)(z.View,{className:m,children:[(0,y.jsx)(z.View,{className:x,children:t.name}),(0,y.jsx)(z.View,{className:v()(Z,(0,u.Z)({},w,1===t.flag)),onClick:function(){return e.onPrizeClick(t)},children:e.prizeStatus(t.flag)})]},t.activityPrizeId)})),(0,y.jsx)(k.Z,{visible:this.state.isPrizeModalVisible,onRequestClose:this.hideModal,activityPrizeId:this.state.currentPrize?this.state.currentPrize.activityPrizeId:0,prize:this.state.currentPrize?this.state.currentPrize.name:"",code:this.state.currentPrize?this.state.currentPrize.prizeCode:"",expireDate:t?t.expireDate:""})]})}}]),i}(h.PureComponent);Page((0,r.createPageConfig)(b,"subpackages/functional/pages/prize_record/index",{root:{cn:[]}},{navigationBarTitleText:"中奖记录"}||{}))}},function(e){e.O(0,[9860,2107,1216,8592],(function(){return t=79790,e(e.s=t);var t}));e.O()}]);