"use strict";require("../../sub-vendors.js");require("../../sub-common/a87b92e095a7a3a37184fd2216bb681f.js");require("../../sub-common/35858c9f2eb671972e5ec0f041d20387.js");require("../../sub-common/1f505238abe2b1c7c14e699592ea7d48.js");require("../../sub-common/c2fe4c6613167eaa1512aa77c00c9382.js");require("../../sub-common/861e33dafec022bf997aff274f67586f.js");require("../../sub-common/32701b3a7b81e965e3a050e700357a5e.js");require("../../sub-common/742ac754f557039d3273f8d60f5a5847.js");require("../../sub-common/249be7c7006b48094919b56adb4aba14.js");require("../../sub-common/41bc791002ccb883588608535cfaa19d.js");require("../../sub-common/1710899bab9cfb6491e9c985cd531f02.js");require("../../sub-common/3b49a37c81608f9c8c9ef2be9a77422b.js");require("../../sub-common/2938fc46f1d50f345ab2fdb53f98a447.js");require("../../sub-common/5e41b573b152245ea09c9d7c689ed47f.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[7619],{55614:function(e,t,a){var n=a(32180),i=a(18453),s=a(66058),o=a(33661),c=a(12742),l=a(22700),r=a(95333),A=a(14175),u=a(3701),d=a(92954),_=a.n(d),m=a(67294),p=a(71515),h=a(75508),g=a(1695),f=a(27484),D=a.n(f),w=a(94184),v=a.n(w),b=a(89728),I=a(29748),S=a(6420),x=a(49970),C=a(17561),k=a(63056),V=a(31254),y=a(41115),Z=a(32180).document,N=(0,y.yH)();function E(e,t){var a=D()().add(1,"day").format("YYYY-MM-DD");!function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N;V.$L&&(Z.cookie="".concat(e,"=").concat(t,"; path=").concat(n,"; domain=").concat(i,"; expires=").concat(a))}(e,t,D()(a).toString())}function P(e){if(V.$L){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return Z.cookie.replace(t,"$1")}}var j=a(24962),M=a(80170);function R(e){var t,a,n;t=e,a=[j.tu.statement,j.tu.ticketList],n=function(){M.Z.track(j.ZP.bothStatementAndList)},"1"!==P(t)&&E(t,"1"),a.every((function(e){return"1"===P(e)}))&&"1"!==P(j.tu.bothStatementAndListUploaded)&&(n(),E(j.tu.bothStatementAndListUploaded,"1"))}var B=a(91629),T=a(30134),L=a(65941),Y=a(23493),U=a.n(Y),H=a(30968),G=a(78518),q="header-module__container___zOfpf",K="header-module__top___O3f1d",F="header-module__top__left___XBIZD",J="header-module__top__shop___d5txX",z="header-module__top__shop__name___gEnDD",X="header-module__top__shop__edit___b9MxJ",Q="header-module__top__star___qBy4w",W="header-module__statistics___esaHD",O="header-module__statistics__item___dBLRM",$="header-module__statistics__item__title___SCekX",ee="header-module__statistics__item__title--question___BgRN6",te="header-module__statistics__item__value___d5BWR",ae="header-module__questionIcon___HhZRG",ne=a(85893),ie=function(e){(0,r.Z)(a,e);var t=(0,A.Z)(a);function a(){var e;(0,o.Z)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,l.Z)(e),"state",{dataArrayLine1:[],dataArrayLine2:[]}),(0,u.Z)((0,l.Z)(e),"onEditClick",(function(){e.props.onEditClick()})),e}return(0,c.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props.data,t=[{label:(0,L.t)("pay"),value:e.paysum},{label:(0,L.t)("endOfPeriod"),value:e.endsum}];0!==this.props.data.adjustsum&&t.splice(1,0,{label:(0,L.t)("statement:adjust"),value:e.adjustsum}),this.setState({dataArrayLine1:[{label:(0,L.t)("startOfPeriod"),value:e.beginsum},{label:(0,L.t)("statement:total"),value:e.sendsum},{label:(0,L.t)("refund"),value:e.backsum}],dataArrayLine2:t})}},{key:"componentDidUpdate",value:function(){var e=this;0!==this.props.data.adjustsum&&2===this.state.dataArrayLine2.length?this.setState((function(t){var a=(0,i.Z)(t.dataArrayLine2);return a.splice(1,0,{label:(0,L.t)("statement:adjust"),value:e.props.data.adjustsum}),{dataArrayLine2:a}})):0===this.props.data.adjustsum&&3===this.state.dataArrayLine2.length&&this.setState((function(e){return{dataArrayLine2:e.dataArrayLine2.filter((function(e,t){return 1!==t}))}}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.onQuestionClick,n=e.shopName,i=e.star,o=this.state.dataArrayLine1.map((function(e,a){var n;switch(a){case 0:n=(0,S.w2)(t.beginsum);break;case 1:n=(0,S.w2)(t.sendsum);break;case 2:n=(0,S.w2)(t.backsum);break;default:n=e.value}return(0,s.Z)((0,s.Z)({},e),{},{value:n})})),c=this.state.dataArrayLine2.map((function(e,a){var n;switch(a){case 0:n=(0,S.w2)(t.paysum);break;case 1:n=(0,S.w2)(0!==t.adjustsum?t.adjustsum:t.endsum);break;case 2:n=(0,S.w2)(t.endsum);break;default:n=e.value}return(0,s.Z)((0,s.Z)({},e),{},{value:n})}));return(0,ne.jsxs)(p.View,{className:q,children:[(0,ne.jsx)(p.View,{className:K,children:(0,ne.jsxs)(p.View,{className:F,children:[(0,ne.jsx)(p.Image,{onClick:this.props.onStarClick,className:Q,src:i?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAOVBMVEVHcEz/tjP/tTP/tjL/tjP/tTP/tTH/tTH/uDT/tTP/tjP/tTP/tjP/tzL/tzL/tTP/tjP/tjP/tTPscpR5AAAAEnRSTlMAw/pl69wsFgnSVH6PSDqqtJuPsf/9AAAAyElEQVQ4y32TWRKEMAhEs2B2NXL/w46jMSMTAn8WL110g0qR2iB6JVVE3KV+QkTjZAHEY95fv3008yn0BcwlbgFBogkgFr6/PX1OIriUoQMYc3KhP7SlLjiWWWqxZyYHimWVkQGtdhkoKmhR4BxVIvRlZU7EZtXHSb/nxRPv2/JMUgvJ243ASncx5kUXxii44Vr/KhEgj0AmALORSgDOJm8CfncVGBPxnGx9Yt1egL1f2/YF7ZgoALlrhuuA3z69hkKS8wXaX/4BYVok8oeV0PcAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAALVBMVEVHcEyqqqqrq6uqqqqqqqqpqamqqqqqqqqqqqqqqqqqqqqqqqqrq6uqqqqqqqqG9ukwAAAADnRSTlMA2AjqWBTIinIspx9Dt08bj6kAAAEkSURBVCjPY2CAgMPSDKhA7hUqn+Xxuw0oAmwv1i1AEThntO81ikBeA9dzZD7PYwVOFEN4XzAwrCtAMYKBYd5TOFfT3a6BgYHrYcsksPb2y+/evVVgYGCVe/dOtmQCw7p37x4uPwCSUqkFCr1geHfjNFwv05S2ZwzrrJHt3/ycQfchkv3ccpcYmPKQPL7xGdB0tYcBMD6rXCqIzBOFCQRC5AJB6sCWQKVY5aC+YIeZP88AQjO+gWrVewShmWHemycAVfESKuAHDU6uJ1CBOpihsFBc5wB0NNAClrewSJrAoGH3uImB8yHUPe8UWOQe2z10ADLAApwPefIeOrDIPTsAVAqOxmf3HgNNUbF7m+cAFuB4B9QPBBp27yACrMmlEMPCrYAEAJWjXDSYUPz8AAAAAElFTkSuQmCC"}),(0,ne.jsxs)(p.View,{className:J,onClick:this.onEditClick,children:[(0,ne.jsx)(p.Text,{className:z,children:n}),(0,ne.jsx)(p.Image,{className:X,src:G})]})]})}),(0,ne.jsx)(p.View,{className:W,children:o.map((function(e,t){return(0,ne.jsxs)(p.View,{className:O,children:[(0,ne.jsx)(p.View,{style:{position:"relative"},children:(0,ne.jsxs)(p.View,{className:v()($,(0,u.Z)({},ee,0===t)),children:[e.label,0===t&&(0,ne.jsx)(p.Image,{onClick:a,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAJFBMVEWbm5v///+kpKTGxsbj4+Pp6enx8fH4+PjOzs66urqvr6/V1dUMG+25AAABSklEQVQoz42Tu0/DQAzGP6UpomEyJQ2PJYiX2NqK15iChMTWwMDaFhbYAmIHMbIUJPZOzLDx52H77tKADoSHJPfLnf3lswPyBP6El59Pxz9g3AXHWl6FCxNoRL0pTMbA9sHjC9AoSniKYFfuZyk2HIyBfZPsFkHPwj7WXd1D1A1M0mDoYCsNCoVL2JT13blcR3hWmEHynACvIg6hwkmNF4si84Ef2pHAGFsk23eOZBPdIGfYRIefU8474k26BM3zK2rhg2gFQxG9ynAQqP5ciogh6QzDrOFENmUnjUOG7zUHM8lJ7TmG97OWXeknynoK41TNMNAdX7ZW6XFXaGBPaCGVJAaG5q6SVDzHxZ5JreLNZ9JUbKc0pAxjiLGO6PrNFI8qJlu9zmTbjn692g7buKSoNs7b4m/DoKJ/HRv/gHlH0T+0/vH+x9/xBYBdUm0v6KdiAAAAAElFTkSuQmCC",className:ae})]})}),(0,ne.jsx)(p.Text,{className:te,children:e.value||0})]},e.label)}))}),(0,ne.jsx)(p.View,{className:W,children:c.map((function(e){return(0,ne.jsxs)(p.View,{className:O,children:[(0,ne.jsx)(p.Text,{className:$,children:e.label}),(0,ne.jsx)(p.Text,{className:te,children:e.value||0})]},e.label)}))})]})}}]),a}(m.PureComponent);(0,u.Z)(ie,"defaultProps",{data:{}});var se={vertical_center:"index-module__vertical_center___TwqUb",statement_container:"index-module__statement_container___RKKcV",header:"index-module__header___Zphmx",date:"index-module__date___hu52y",caret_down:"index-module__caret_down___l53Mi",content:"index-module__content___ZSLhN",content__left:"index-module__content__left___f5v7F","content__left--hide":"index-module__content__left--hide___wWC9R","content__left--full":"index-module__content__left--full___GBOuY",content__left__search:"index-module__content__left__search___HpUiI",content__left__search__icon:"index-module__content__left__search__icon___dwcTy",content__left__search__input:"index-module__content__left__search__input___Lewh0",content__left__search__cancel:"index-module__content__left__search__cancel___O3FXW",content__right:"index-module__content__right___cYSA2","content__right--hide":"index-module__content__right--hide___xIyyB",hideShopList:"index-module__hideShopList___V_AKF","hideShopList--hide":"index-module__hideShopList--hide___fMSrv",hideArrowImg:"index-module__hideArrowImg___nwMEa",sticky_part:"index-module__sticky_part___bb92L",list__date:"index-module__list__date___Fy_Xa",no_data_wrapper:"index-module__no_data_wrapper___V_VnQ",no_data:"index-module__no_data___AIa9g",feedback:"index-module__feedback___yPFSS"},oe=a(19806),ce=a(52131),le=[{title:"期初",content:"选择日期范围之前的欠款总金额"},{title:"付款",content:"选择日期范围内的付款总金额"},{title:"退货",content:"选择日期范围内的退货总金额"},{title:"期末",content:"累计到目前为止的欠款总金额"},{title:"调整",content:"商家调整账款的金额"}];function re(e){return(0,ne.jsx)(oe.Z,(0,s.Z)((0,s.Z)({},e),{},{direction:ce.n.Center,containerClass:"bg_trans",children:(0,ne.jsxs)(p.View,{className:"statement_intro_container",children:[(0,ne.jsx)(p.View,{className:"statement_intro__content",children:le.map((function(e){return(0,ne.jsxs)(p.View,{className:"statement_intro__content__item",children:[(0,ne.jsx)(p.Text,{className:"statement_intro__content__item__title",children:e.title}),(0,ne.jsx)(p.View,{className:"statement_intro__content__item__text",children:e.content})]},e.title)}))}),(0,ne.jsx)(p.View,{className:"close_circle",onClick:e.onRequestClose})]})}))}var Ae=a(65712),ue=a(53934),de="drop_down-module__container___UiZBl",_e="drop_down-module__content___pur5z",me="drop_down-module__caret_down___Ph4pP",pe="drop_down-module__drop_down___CjErU",he="drop_down-module__drop_down--active___QnsBD",ge="drop_down-module__drop_down__menu___sSwQL",fe="drop_down-module__drop_down__menu--active___SkdN3",De="drop_down-module__mask___lVtye";function we(e){var t=e.data,a=e.onItemClick,n=(0,m.useState)(!1),i=(0,Ae.Z)(n,2),s=i[0],o=i[1],c=t.find((function(e){return e.active}))||t[0];function l(){o((function(e){return!e}))}return(0,ne.jsxs)(p.View,{id:"drop_down",className:de,onClick:l,children:[(0,ne.jsxs)(p.View,{className:_e,children:[(0,ne.jsx)(p.Text,{children:c.label}),(0,ne.jsx)(p.Image,{src:ue,className:me})]}),(0,ne.jsx)(p.View,{className:v()(pe,(0,u.Z)({},he,s)),children:t.map((function(e){return(0,ne.jsx)(p.View,{className:v()(ge,(0,u.Z)({},fe,e.active)),onClick:function(){return a(e)},children:e.label},e.value)}))}),s&&(0,ne.jsx)(p.View,{className:De,onTouchStart:l})]})}we.defaultProps={data:[]};var ve=a(28374),be={container:"receipt-module__container___iY1WO",tag:"receipt-module__tag___n0Z91",content:"receipt-module__content___f6qAU",content__column:"receipt-module__content__column___MECTm",billno:"receipt-module__billno___tnHa3",total:"receipt-module__total___AkNoO",pay:"receipt-module__pay___hORK1",pay__sign:"receipt-module__pay__sign___HYrgA","content__column--total":"receipt-module__content__column--total___bwNje","content__column--balance":"receipt-module__content__column--balance___FXZXf",text:"receipt-module__text___WbG4M","content__column--in":"receipt-module__content__column--in___Nxaev","content__column--out":"receipt-module__content__column--out___t85ij","content__column--pay":"receipt-module__content__column--pay___M3lG0",multi_pay:"receipt-module__multi_pay___qFlYs",fadeIn:"receipt-module__fadeIn___udEhD","multi_pay--down":"receipt-module__multi_pay--down___kxV4W","multi_pay--up":"receipt-module__multi_pay--up___Rxup2",mask:"receipt-module__mask___IBSmx"},Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAMFBMVEVHcEz+r27/rm7+rm79sG//sG/9rm7/r27/smz9rm7+r2/+rm7////+7N3++fX9y6MS39IAAAAAC3RSTlMAyQ7Wl1doQyGk68I58vUAAADpSURBVCjPY2AgFbRNXL1LMgNVLHA3GIgiixXvhgJzhJjKbjhwgokxSSMENypABZV3IwEjTIVwpSy7UYADWLAaVXA7WNAaxNx7G4J3794MEmMFy+8993v/G7Dg7gCgICNE150zZ85CWAJAwW4Ic/+9t78hrB1AwezdaGAbUHA2uuBOoCDY6XvPgAHYpo1AwdXogruAgjBde07DWLgEV6ML7oJZhCy4EeYkZIt2whyPLLgN4U2E9h2IAEEICsCDDkkwAB7ICMHNyNEBE9yOHHGQyIBFHNYoxpoYsCcbrAkMe1LEnmixJ28iAADMaXN5fB95yQAAAABJRU5ErkJggg==",Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAG1BMVEVHcEwvePEvd/IvefIvd/H////O3/vn7/1qnfR2YIWNAAAABHRSTlMA8K0mz/NSEwAAAFlJREFUKM9jYBgygFnRBQkIGYAFDV1QgDBYUAVV0AksKIIq6AgWdHFJDQWCMJgoPkFUQB1BsEVwq/AJ0sJ2BGivwCJYGk6sIFbt+G3HGh1YIw5rFGNNDAMIAB4mb5EHl1xJAAAAAElFTkSuQmCC",xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEVHcEwBqvICqfIAqvMDq/QBqvIAqfICqfIBqvIDqfICqfIBqvIDqvICqfICqfEAr/cCqvEAqvMCqfFb04GcAAAAEnRSTlMA4Zo5RtQU7r5eia5VdfcJZiMc4WZiAAABFElEQVQ4y9WU23KFIAxFSRAIF0X4/48t4OiJCo5tX9r94CCuCcnGRIj/I0smd2TInjBNeSjSDHzgCsnOzY+yg4DkvRqEPNUBZWM9V3SA+RnMPwXRNoWykbalxS7opiZZwW05ud8dnRdTpaqxbWVGIF3uXy+jiIopsgvr5/iJ7gcgECISbC+BnXwG1bRnNiG00l23aooaYTHg5+qjLA9teuCiNRxGuvarTl0QP5nX8l3blgg30IqF1xz2L9KpMxgEMG4uHqb9Y5qJgTOrsXJzzl7ee7WYI+LeDyAbV50IdzCX9Fcq/ngbRcQ9tlrjFcx4tG/grWVcYmBzzGCQSQYH12tnydJzX9P3B8DrkfJ+SL0ee39bXzaENJnusRHmAAAAAElFTkSuQmCC",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAANlBMVEVHcEwIuwcJvAcJvAcJvAcIvAYAtwAIuwcJvAYIvAYIuwYJvAcJvAcIvAYGvQYJvAcJuwcJuweWY/VwAAAAEXRSTlMA14llNHwH+ucV87pJlyWsxAOcBdwAAAEISURBVDjL5ZTXksMgDEVNs+jl/382xCNqRGafN/fN4oy5Kui6/q+kSswCaJaUvI+U4bpM0jyS2M2hbIJgiEtZIaT9zgkopEBtXDlqIT2cMAhyTlcfMK1qNnFkxGmMifspRug/tBTmnoRFvQzMmonVH9Zkfr4Eggl/cfPZWr0JD0pCEEsN8fK6WavmVHfEEGyBatqEhL3wkxGLYCuiHXVAc80xRvXeBBPWBmiMux7YzbVKIah65F0Hz47tjuMOEx1R+z7A45AcDjdyhPJFMM0P/wYuA+nOXFpf1pFM26u9w5+ezFuZGl1JvGtGT/jnmnh2A8/YPshc0vtEtL0QpfcynhePyvL6Gb0AyRMsJfuqkXMAAAAASUVORK5CYII=",ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAGFBMVEVHcEwuePExd/EuePMxefMvdvEvd/Evd/G7dgtIAAAAB3RSTlMA6UlTFYLP8Pd+FQAAAGtJREFUKM9jYKAfYBIvB4JCBQYG10SxEKggYzkYCDAwA2ULDSCC7BDBAgZzEFWMKsgCMcYBRZAVQgegCLJB6AQUQbiFBAWxasdqEVYnoTgeqzexBgjp4YkwBskirD6CO23IC2L1JtYAoQ8AAA5KpAc3RVoZAAAAAElFTkSuQmCC",Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAjVBMVEUAAAD9cHT/cHP/b3X+b3P9b3P+bnL+bnL+b3L9bnP/cXT/cXb/dnz+b3P+b3P/cHP/b3P/cHP/gob+b3P+b3L9bnL9b3P/cHP/b3T/b3L/cHT/cnX/cXj+bnP9bnP9b3P9b3P/cHP/cHX/b3X+bnP+b3P+bnL+bnL+bnL/bnT/oKD+bnL/bnP/b3P+bnKPvQjfAAAALnRSTlMAgFtKv4r48eCjPDUStq14bkQJ7MmZlFZTTUIjGuWpp6BiNzHZ0s7CuSwEwGZHi6Gx/gAAASpJREFUSMft1GtvgjAYhuGXYjnIWUAE8Yjnbc///3kDWTItQ6RZtsRwfemnG962SWkw+Ceq+r32bgHHJrIdQJWJEZrrEDIxcXzhJGFmVKkxIzmZ7wcXiY4pFde9Lqxnizvs7+J67BEwqseWoAAKCSRiybGH0379mAGM5GtGgw7z7bhknee5PaFeMlPHDU1f7KKRa8b85v3dTo9OQA3WG1pxquUuSgYJ8hXaaRu6SkKUdEtoNzoEuhGdljH33pPsXG/frr9vCK3tQqSSKFmg4th074AGdhGu4YSK5pFIQZO2d0zu+SwNxtvxzNRQ2VnUxDQ8Y/rz3VsLdDI+qEUeyf22NlnjkWNBD/loFaXUJQhROihpFqTJxvf4NDaXy1XsFfSE+V5fFzQY/JpPCJxY+GaJCJEAAAAASUVORK5CYII=",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAmVBMVEUAAAD+r2//0oz+rm/+r27/vn3+r279r2//sXD/sHD+r27/r2//r2//r3D+r27+r2/+r279sG//r2//sHD/vn3+rm/+r279r279r2//r3D/tXL+rm/+r27+r2/9r2/9r2//s3D/sXD/s3T/r2//sHD/sW//r3D+r2//sG//sXL/sHL/snj+r27+r27+r279r2//tnb9r27+rm4q8YA+AAAAMnRSTlMA+wTnyQjwn0U39XdhP/i/tZZrSwvr3pKEVhjSz6+liS0kG3BPMyiAWyEQDdfGqY4Umhw1CScAAAKOSURBVEjH7ZXZmqowEIQbEAGBkR1xQ3Ef97z/wx2yETIDKHN35pu6i/EndFU3gT/9/1LNzemH6NROENLOP0ELQ0FYu/7oeTJCRDO9d61BTNGLE/Vl1zOKaoEKfZUNCTo6RP3jSRHRgIcU+qn1bj4DyqaVURpC4/fYBy13uGXrfZCWicW5M33Nfs4py8K1Fojrw9i/SncgsRPKcTzr9mpMWeZPQCFBr1pJcZLJSsA9pvirsua5SR7rdbAWbeY7Wzp4cQRQythA9fCT2oOPLoSd84zychEDg8HEe+3v7dPC9vUiYpXDqjEeG63dukJET4D6a/s6g7tFI1XWIjcylFqOXsNrRHQDIQdxxbbVOV85InKhTo9EyMO8aIc1OobyAY+DJnDl3nb6Dm83jI/uHgRutMA23T7AF9Gck0lCtsNm+Ebheu/vLSsC4B3m4PZbNMMz1tay1/MKBkhJwzUqpnD4pZApg/mMMcvUwtoGE2MDVB8UdgQc4nUg4CXOi3jo8Qg+ZDgXsJrg6FwOZwoPo1AQkybFjK4gFNB4TFy76dWqmu52K9LMM6AaIKpTLWIMSPKB6y51Rcr2UxBSlxKqHFT+WAPXP68GIeP/kL7voTh8eK/mrbhis9xl9SYRn4G53MBT01ZKZ+wwEk/U8CHb0v4JMBlVA3O6+cZ4LElIR5zdpprnKgBPl2HLtteViXZManBJ8EfgShHXdd32iQxoogn5zrm3T5HMRfjqTxtQ12C+LB7fN/e1wR89t5F0h5mThNt+hCadEulyGeebzF25W2djXMTPXtF2N8/QC13djhv2qXShsy10auW1kUPfgpcyF6PvpOJlOrwlPfTr1mkL2zxDH+kn92hvnMy0CvjT79A/yCqfrZYOu7EAAAAASUVORK5CYII=",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAq1BMVEUAAAD+u4X+vov+yZz+wZH+uIH+uID9uID/uYD/uoL/vIL/0ID+uID+vYr+uIH+uIH+uYD+uIH+uIH+t4D9t4D9uYD/uID/uID/uYD/uoH/uYD/wob/9Ov+rm7+t3/+y6H/4cj+xpj+zaX/5tH/7d//7+H+tnz+wI3/6NT/6dj/69v/0q7/38X/1LL/5M3/8OX+w5P/2bv/2r7/2Lj+z6r+uoP+sXT/8ub/2790qQNoAAAAHHRSTlMA/Pz+/OevoGs5Ggj6/fDs5dDCuY6DcF5UQywVQ5MBEgAAAxBJREFUWMPVmNd26jAQRa9cIaFDaBkGXACDC4Sa//+ya2SZxJYEBi8esp+stdBBGp0ZlX9/jLdRpWca3a5h9iqjtydFPgdmCxGJolmWphBEbJmDz0dV3odGDYm9c1xguM7OJlgzhu+PyPR1VMIVcKxCBfV+YalKE9UIJEQqNiuFZKptVD24gadiu3pf5wOVGdxhpuDHvfXu4GEDd9kcsHPTDWOdBFCIgOjjG+Fp1FdQkFW9UZXq1DQXCuNqNYnSuKHN4QHmWmMsjLNed+Eh3LouiniHrOBBVqQj8k8ADxPwfqriAZ7ggPmAt5UzPMFGaefyFG/mRf04/XbF2YKVTN1oqvCb/SxjhDOZxCxBhNr8XVX66GUGHHdbWP5s4zAOF6FF2lpnagH2fw1Izw7oHPjbRdw1mgixskPSf4Y0xEhgt2DvWgw6tVPaCrOVDodXIUOB2+zp1ECMYlz3i1pYRiispXvLAFf5WbnMucuEI50aa6j5RMEBEzIJP4DF1p/N4w8BR8hBTCbUsrldxzrS1dmsE3w6NdbgnGm3WP3Ancj8URgUixHsMKkmI3Rku0XKlApdm2vI4OCI5ZmsoJ0mYva5tWH51iMgwZ6KyduX9JJF4+243IaeuGyILWkmvta4nyPN2jN4arZ6uLgVhUFLvN21eLPSUACoF9uo0ysY2/ILOKyuTIiuEgK4EwFLlxeSTA22rJDNk0WapdQvzbpgarJg09yapkJe9g9sWbB7RGwgv7AQ6YkNyfrv6AcPE+INyaeIQztEqdDiyokJcSkiSdqA9nflU+OTlpURsY2KCtktWWFjNkqF/K+Uo1CImLJSy2wkDTZfan+KP28j9So09VOQCXHFn2EoIhsVjZFiSDZI1v27oFCEQ9mW7TEbZYQcK2bBhPgt++cQwdlonRU6n8TB9rAvPdZE9gVa4eiXmyyOExOE06UvPdawg9ZTzLCSP/px5bjg0e8lh9Hyx+PyB/YXXiHKX2rKX7PKX/xefhVll+Mz3OXMLsevv66Xf0Ao/6RR/pGl/LNP+Yeo8k9jf4v/uiqUZV0lxdUAAAAASUVORK5CYII=",Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA5FBMVEUAAACS0XKj2oiMzmuIzWiJzWiIzWaJzWeLzmeMz2qg0HCIzGee2IOW03iY1HuS0nSO0HCJzWiJzWiJzWiHzGaIzWeIzWaIzWaIzGeJzWaIzmeJzmeJzmeL0WiSzm3u/+ZezCmHzGaR322d43ys6I+F2lzi+9eY4XXa+ctq0Tnp/uDV9cbQ9b+O3miJ22B41kvk+9ng+9TC8KxkzjHn/Nzb986876Xc99HX9MrS8cLM773K7bjD6rC35KKw4Jiq3pHs/+Oi5YJ01UbM9Lmw6ZSA2Vaz65hizi6m5odn0DbH8rNv00DQNOXuAAAAH3RSTlMA/P387uegazkaCPf9/Pv7++XQwrmyrI6DcF5UQywVSwdiRQAAAyRJREFUWMPU1ddy2kAUgOGsGkX0aurZY2yKBIPsSAZMm1BC7Lz/+0RoNlgNtOLO3wP8s+1IP76ZVDtRV2qVSk2pJ9qpOyPdplJERDGfy2RyeRERi0qzG7eSblVVLGxXugGMoa+2BVSrrXScTENGsrYgwFoTlBvcqYSEwgKuWAgoJbgyyRIKc7hhLmApGd15QPIOEd4JPkTddxk3GkTSNli++Ro6srgELktR7tw4HonMgNOMSMmrHTXbB279rHql1JGyJsRgZqXQ3aVk0odY+kQOO/GyOIOYZmI57P0sIbZl8D0lcQN32KD/wEtEgztopOSbU/TMxWDyWwfH/gXchr9M37SgZ4LTkgBuU0rpaGI3xpROe5/D//YjOnoDD0Fyf1UaOPde7InangCGf2nAUQeXOTZcC5IF8JpQ2w4AHqlt9MwcndLAuyT5a0ktXIDXJz0bs9AjMGN61ge3BbYuoSoBP2dLA54QkOrlf6Guwe8PtX1oPKG12mWhJlpwjRPa9ZhJWMjCJgspBQjSNBbyCYagoLBQcRu2lN3+Ejq+Mk+hoW2RfT9wBR7Dw+EwoJT2TK7DhhWmnFAbdfB4pcxuzBXSsc3mzAiu6OjcmsUVMti81UUIGlDbM9vaacR8hIZArDshJR8Voj+ZU3gorzihWi4qdNmaPj0zwCdXc0KVTGRo/HamAZgvtsCKMhXe0L9qrGUFQhgGfkrCKqisj3URzz6g+v9ftNvGnqZhhdDDzkFqwWCTZjJJxfJjyxCCiYbuHu0p/HG6EMsSj3bT2Q96beJ0/3CEzobwq86uG74wLIThhwupR609WLAT4YXEFNHDPzPHNaYIJq1uiEqhfqEXTFqkETS0rV+csscdEdAIEJuWIvKy9GGxEhKbTrWVBEgMxe+nIawcUK1O/mMjx1jKPmL3253HYwTyV8tRz3xZIhVYjrBAOo7oywR2KJBKya5DKhQHK5ihZKdFhOR4RTMrGEFEpGVNW3hMRO8iiRNlDQqt3wChlUX62cWoXR5nEez2FsLe1GRts+yNn70VtTfH+dt1+wDBPtKwD1nsYx/7IMo+GvsvfABXMsds3w1MzgAAAABJRU5ErkJggg==",Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAnFBMVEUAAAD+vYv+uID+yZz+uoT+wZH9uID/uYD/vIL/0ID+uID+vIf+uID+uIH+uIH+uIH+uIH+t4D+t4D+uID9t4D9uYD/uID/uID/uYD/uoH/uoL/uYL/uYD/wob/9Ov+rm79t3//27/+sXL/4cj/2Ln/59P/7+H+tHf/0Kv+y6H/8ub+xpf+zaX/6df/38X/7d7/5M3/1LL/5ND/6tl/1z43AAAAHnRSTlMA/Of+/fygaxoI/v368OzQwrmyrI6DcF5UQzs3LBWsbIp9AAACyklEQVRYw9WY2ZKqMBBAb9icEffdGadpRBBRwOX//+0OSxlNawBTPsx51OJUupPuLP/+GB/L1sQaD4dja9Jafrwo+ZlbGiIazNzvTWYgombNf5paPhejDtoH9xxASXB2DzZ2RovPJpqZhuwUAyE+MdRmtVWtHupHeMJRx16rlua7j7oPEnwd+9/VnmmbeVCBx9rTqvkeYBhBJVGIA+lqWGlGArVIDG313PPVZReoScy6X089HTOF2qRm54lp1TUDaEBgdlcP86yxFBqRMu1RxgfGBRoSGwPqmWICjUlwStZzO4QXCNviGu+z6BVRxPpCnaJYFyd7txFKbmPsXHE+PGzd9Y2eDgJ755f1Xby77Ke20Bf03m1XmaFP8uhkuHDLmv4EPs5uBqTp8HhEUaUIdI0PaYFHksX8Ix2qRUdcXEUjBiKuk3GsIQI2uu4XnRMRmdk329i7I5cfPC+9n9/OTymaY0wKsvgmdAh0UDHOS5Flg8gm/8BPdnfkP5q7nTDFtlWKtAMR2dknBkCdHMFBK/sHkv8uTsappsjFopss8QwCRW7WLsApdI9pheiMy7LOSGNsOzkbgG2RLKkoKOttQnLhO1dRkJtCqQiMSTFpjGSPi0DPK1UuYsW0jU0Q2N6IvCI2qcgc56LhXqwe50YUFbFJRfvhYxFEUbQtRDy2ClEZGoWLEh5bRWgWk4nKhhLWSPbEkInK2Az59AsLkop4bLF0QZISISIeW3WJ8KKlIt6+jYqipW2EitwiNmkboY2NinhsXEQbG221VARBRiSISKslzZ+IaGMjzZ9vRwoiNiIbpExUvUHSLZvmaF/gSLdseoigI7IdDj1ESI814eGX64pP/ZyzG+p2Qo419KBVH3rQUj/6veUwqn48Vj+wv+kKoX6pUb9mqV/8LvTip34VVb8cv/+6rv6AoP6kof7Iov7so/4Qpf409rf4D4XMpkAa4vypAAAAAElFTkSuQmCC",Pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAApVBMVEUAAAD+vYv+uID+uoT+wZH+uIH/uYD/uoL/vIL/0ID+xpf+yZ3+uID+vIf+t4D+uIH+uIH+t4D+t4D+uID9t4D9uID9t4D9uYD/uID/uID/uYD/uoH/uYD/wob/9Ov+rm7+t3/+zaX/277+vYn/1LL/4cn+s3X+z6r/48z/6tj/5tL+yJv/8ub/7d7/38X/7uH/5M/+wZD/1rX/7+P+tXn/2Ln/6NTmC8lgAAAAHnRSTlMA/Of+/O5rORoI/v76/f3QwrmyrKCfjoNwXlRDLBV9mqSAAAADUUlEQVRYw9WY2XqyMBCG/7DYFsRd69YwbCLKIqi9/0v7Q8AiCYo2jwf9DgzK45tkJjOZ5N8f0/uqM5uOh8PxdNZZvf8S8rWYSAAgI0XTFCQDgDRZfD1L+ViOumBY9iHBpZKDbRnQHS0/nsHMJUBugDkFLgJp/jCqo8J+i29ouwe18xDmrQ/6Dt/RTof+Wzvns4c83CIP9T7b/D0AP8StCn0Y3F0Na0mO8UOKZWl9xzwqCvCDCpD6dpPTVSL8sCKle4O0VpUjfkJHRV032llCEX5KEZKaLD6QA/ykAnnQsH4gxk8rhk/O0D0f/0J+jzV4H91fhzfehqjPxCnU4yJN/TjC4T67RJ220c5NNvSgU8sbql57nZxMItkjH5v0QEH0B8xLV6+zyhyYeLdMohTreWPR7GHmUDoGy7ie5w7mVwOS9rguwyTycZw3zjUo25Cmtt72UjWkJWwZG5q5YnykbXhMkpiCksQhjVvPdLD8AY0QrutAAQnGct4eUrMmplc0+tkvui4DykwiuNgqsxwHKMKhYGYpuN3L3rIA1rF7kyi3W7QlCiob2Q2+C2BRgiYGZgR0IPiiCuTTDhgZkxIkWcybxKSmyUfEgNKqg0qWVOYPsNlYNEtTfJ+0sAY60Q4Y2VBkkxWwr3wKSncx+Z8cYC/LMouC3PzTzbaMj2FVxlnCgNLCRUWzifcmI4uxRBlvMy6ENgXI1emDHrtu8X+3FLsNyzMKmiLWn2YBKr3nYep183Qz0aApBY0V1ngcyClCj0hLIx6kjCloqLHuZEHf9Lvu+75GBuZxIG3YDDomWR1EyZV8HlRNjZ9cBQo3hfts26ZzlMPmqU1RC6i02eYShNYNY8/kFpDTBpJn1YK8A3JNDsQvSD5EeNDZ8zKTPpzPTgViQoQPWn5qGO/YCOGDtkoj7SASHEYTyJKqxNYGumsjY1KlWhFQAIsq+YuASPKvtiMREBpxG2QzCBy3MHaapicetIUlv2XzIKoz735+y+aLCB70XUwtiiKNATFFBFfW7Cwil9jRp8KRReTnPeQPMVPWsIXWr+RB57nSD7eVfuLF6EvKY/GCXfwI8bpDjfgxS/zgJ34UfdXhWPy4Ln6BIH6l8ZJLFvFrH/GLKPGrsb+l/3lRqsCH2cW1AAAAAElFTkSuQmCC",je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAqFBMVEUAAAD+i43+kZT/gIT+hYf+nqD+gYT9gIT/gob/gKD+l5r+gIP+h4v+gYP+gIP+gYX+gYT+gYP+gIP+gIL+gIL9gIP9gIL/gIL/gIP/gYX/gob/gob/gIX/hob98PH9bnL+f4L91Nb9pqn93N39m5790NL95OX93uD9zM796On9yMn9tbf9vb/97u/96+z9rK79eHz919n9wcL9cHT9o6b9goX9dHj9rrF/2SlrAAAAHnRSTlMA/P5t/f7uoBoI/vf85+fl0MK5sqyOg15UQzs3LBUZ1lr+AAAC60lEQVRYw9WY13LqMBCGj1yD6S1AQuS1Dcb0Tt7/zU6QDApaVzRc5L9iPOgbe8uvlf79Mb2N9L7d63R6dl8fvT0J+RrYTQAwiOY4GjEAoGkPvspSKsNuFWr+wQtprNA7+DWodoeVMhi9DmQZUKRgSaCuF0bpFphTmqKpCZZeCPPZAnNPM7Q3ofWZz3kHEtEcRQTe8/Ldhu2G5mqzhXZmNYwbxoIW0sJojNM5HxYJaEEFxPpI5VS1kBZWqFVTSGNLm9MSmmvWODHODRLSUgpJIynibSOgJRUY7aT6WdDSWuB6+oQtfUJbkGu8RTbPgDakJfUpRHJODGfprXNJEegPvmGZVJJ3dF33ouUGzrQqDy+E+n0N7lW5Dbz//UqVuokTwjhnGZ/wSnXxSkPAPqYx0Eqin/EfpzC8g7oE1xrjHCPvtxYX1z2hNiLd+35RXSLQyU3TTo7/snrbWwYQoIa8sEWTRznsYU0KVACDGGTXqKwlW+JIT2fJiazZMajpI9CZLWGRPewlEIq334z9Aw6oXtkKgyXlJyqT1SwLdADuJiPwqCRH5H5uXH9qWSAPRnFZh4mx2PE2nuSCwri4+wYyB7ZgSwuCqNHnSSOyN+zYgllhEOFp62nS8xWvIYpA89VVIW6nHgN1nExfvnBQlpxOPmgOLtMhGyR9GtZac7mOKDLo01Cwk3t3l7FZERulH7WcEKo2lH499S9RjDjyrt9QIVSQokWwgh3/qNmKAx3hH7hFRNPihJ3vYf7mpBMVQk0rbAQnTLSuyX9zJ8U2go0NJ8x/oDKbxcaGrBb1iautbxsvLidhtRnmH/FMned3a7lFnlJs/ng7EstQFe4vKeVEumiDRAmLEqqKbNAGKW3ZUsJwkqRyQls2HiL8lLLZikSiISJprJn5TN9rHFefaYbGGjRolVYE+ktGP/VhVH08fsnArn6EUD/UvPSYpX7wUz+Kqh+OX39cV79AUL/SUL9kUb/2Ub+IUr8a+1v6D5mspUICFLy6AAAAAElFTkSuQmCC",Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAUVBMVEUAAAAvePEvePIvePIwefIzevX///8vd/GXu/i1z/vy9//q8f3D2Pudv/hjmfRCg/PP4PuCrfZuofZak/PJ3Py91PukxPmOtfh7qvdJiPNIh/NXPEL1AAAABnRSTlMA88i9ZRljrLGUAAAA40lEQVRIx+3WQQ6CMBBAUVuxnwKKogJ6/4NaEglx0WkYE0gIf8PqhWEWtIe9FcusIZKxmUhPR8SOJwEHm9DCzMC5dJHKMxCf3AbrhIK2UWyglHAJJooBJwZsGlfV+JyPK2gK54oGKg2m7vsaDXYd3zrNwp4vQu+nctuPtn1otu3zoabJh/w87PnJL4OnsS9wmTn2VA65G9Nj5dj7trePPXgtDtov9+uVzyoRJ09JGcvns4zlZuH6dqu1+D4cN3clvrrQVYmLAReLvNmkv9lEsU1v2wqXuGTZ39dH/cVVf2XeW68PL3wtrFVn/dsAAAAASUVORK5CYII=",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAARVBMVEUAAAD+bnP+bnP/eYf+bnL+b3L+b3P+bnL+b3L9b3L/cHL/b3T/bnP/b3T/cHP/b3P/dnb/eHj/qqr9bnL////+8PH+u73ymOLrAAAAE3RSTlMA9+gJ8dvKt6+Pe2VfWk01GhEDdnkFZwAAAP1JREFUSMfslkcOhDAQBHeGnENj/v/U5YTWYBzUlz1QJwtRsmVP+rz8AdnYVIWKaFE1Y5ZiLn0t+EHqfondtM1xI29jtl87hRPt1pA7l3iknP3upPCgk88dBF5k8LgI8mhPgiDycPJZEYHOzjcqEUXperEOkXSOuFJEovdYaxFNe8uFHNHk1yzpkUB/kWskUNtuJkhA7CsbkcRoyQ2SaCy5QhKVJRfn992YPbRGYcl6/rMd7P41oJZ8XrbZDox/DQglU8emLox6KipIqPCkEoNJSaoYUGWIKYBU6WWKPtVumEbHtFimuTNjBTPQMKMUM8QR4yMxuBIj88t3Aw8AGwGEdejizZYAAAAASUVORK5CYII=",Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAulBMVEUAAAD9r2/+r2//r27/r3D/s3D/8pz+r27+r2/+r27+r2/+r2/+r2//sG7/r3H/tXb+rm7+r27+r2/+rm/9r2//sHD/snD/r3H/v3n9r2/9r279sG//sG//sG//sXH/sHD+r27+rm7+r27+r2/+r279r27/r27/sG//sW//snH/snH/sHP/tpL+rm79rm7////+1rb9yqH9xZj+6tr+5tP++PP+9e3+2r390a39yJ39w5T9tHj+4cr+4cmY5RN4AAAALnRSTlMAkMl9chkD+OLc0r20Uk8T9/WwqJZLLigJpaKDZUE6NO/q2MbEi3ZpXjAiDge3mWzgAQAAAY5JREFUSMft1NlygjAUgOGAoAiIO2Ldl7r3xAX39v1fq2OnUyfJiRymF+2F/w1X3yRzSMKe/YeWQasydk2/VrDT0m6lBD+NgjR04YOY2yHbQhmUMkQ7Vy1djwAtpNgO4FUpeKLBeQp+1eA+Bbc12KTgYg7HFqPUQq0TkXDWQ2y5x0jVHQTnMlkCLVYBz2wk2mAAusrTBJuBR1WztEGn1xYk1dTqrnA8ttv7996LRhcdwXIeXwGuMeeCnuDYAAnz/fvHnku41MBsIwdCR/7dEYTGGH4BqfPhRg9nkCrQLtPldLqAkpf4mzbrW3H89dmA0FzBnmi5kKgN2UYlOnZl3ANk2zvOd8i2YSnhGSCtOV8DUl29TnTcVh9c+rYzEq4BaWD4uI3fYCvNti0JB7SB4ae7WEqBbeVS0bGvvkFEjN/JGihtbnNWemNq0RDRiB3Y6DvkAKF+h6Et8snWCZkm20+yvs301R8unq+zh62mpo6a7RVLLDSGyKJGyIhFvZnRrHim65pepVmzAps9++s+AemSF2GDYvtKAAAAAElFTkSuQmCC";function Te(e){switch(e){case"cash":return Ie;case"alipay":return xe;case"weixinpay":return Ce;case"card":return Se;case"agency":return Ve;case"remit":return ye;case"storeValue":return Be;case"mobilePay":return Me;case"other":return Re;default:return ke}}function Le(e){switch(e.mainType){case 1:return Pe;case 2:return Ze;case 3:return je;case 4:return Ne;case 5:return Ee}}var Ye=_().getSystemInfoSync().windowHeight;function Ue(e){var t,a=e.data,n=e.onReceiptClick,i=function(e){var t=["cash","card","remit","agency","alipay","weixinpay","mobilePay","storeValue"].filter((function(t){return e[t]>0})).map((function(t){return{label:t,value:e[t]}})),a=t.reduce((function(e,t){return(0,ve.PD)(e,t.value)}),0);return e.paysum-a>0&&t.push({label:"other",value:(0,ve.h9)(e.paysum,a)}),t.sort((function(e,t){return t.value-e.value}))}(a),s=Te(1===i.length?i[0].label:""),o=(0,m.useState)(!1),c=(0,Ae.Z)(o,2),l=c[0],r=c[1],A=(0,m.useState)("down"),d=(0,Ae.Z)(A,2),_=d[0],h=d[1];function g(){r((function(e){return!e}))}var f=(0,ve.h9)(a.paysum||0,a.totalsum||0),D="".concat((0,S.b)(f),"¥").concat(Math.abs(f));return(0,ne.jsxs)(p.View,{className:be.container,onClick:function(){1!==a.mainType&&n(a.billId)},children:[(0,ne.jsx)(p.Image,{className:be.tag,src:Le(a)}),(0,ne.jsxs)(p.View,{className:be.content,children:[(0,ne.jsxs)(p.View,{className:v()(be.content__column,be["content__column--total"]),children:[(0,ne.jsxs)(p.Text,{className:be.billno,children:["NO.",a.billno]}),(0,ne.jsx)(p.View,{className:be.total,children:"".concat((0,S.b)(a.totalsum,!0),"¥").concat(Math.abs(a.totalsum),"/").concat(a.totalnum,"件")})]}),i.length>0&&(0,ne.jsxs)(p.View,{className:v()(be.content__column,be["content__column--pay"]),onClick:function(e){if(e.stopPropagation(),i.length>1){var t=e.y;h(Ye>=2*t?"up":"down"),g()}},children:[(0,ne.jsxs)(p.View,{className:be.pay,children:[(0,ne.jsx)(p.Image,{className:be.pay__sign,src:s}),(0,ne.jsxs)(p.Text,{className:be.pay__amount,children:["¥",a.paysum]})]}),l&&(0,ne.jsx)(p.View,{className:v()(be.multi_pay,be["multi_pay--".concat(_)]),children:i.map((function(e){return(0,ne.jsxs)(p.View,{className:be.pay,children:[(0,ne.jsx)(p.Image,{className:be.pay__sign,src:Te(e.label)}),(0,ne.jsxs)(p.Text,{className:be.pay__amount,children:["¥",e.value]})]},e.label)}))})]}),(0,ne.jsx)(p.View,{className:v()(be.content__column,be["content__column--balance"],(t={},(0,u.Z)(t,be["content__column--in"],a.paysum>a.totalsum),(0,u.Z)(t,be["content__column--out"],a.paysum<a.totalsum),t)),children:0===f?(0,ne.jsx)(p.Text,{className:be.text,children:"已结清"}):D})]}),l&&(0,ne.jsx)(p.View,{className:be.mask,onTouchStart:g})]})}Ue.defaultProps={data:{}};var He=a(59009),Ge={container:"detail_cell-module__container___v26Jy",detail_cell:"detail_cell-module__detail_cell___pyvb3",avatar:"detail_cell-module__avatar___v7V1r",content:"detail_cell-module__content___ByE50",content__block:"detail_cell-module__content__block___mf_wX",content__block__title:"detail_cell-module__content__block__title___w70nk",content__block__text:"detail_cell-module__content__block__text___bTaED",content__right:"detail_cell-module__content__right___o6ZY3",skus:"detail_cell-module__skus___DqKdd",SlideIn:"detail_cell-module__SlideIn___DKS0b",skus__row:"detail_cell-module__skus__row___FWORD",skus__row__text:"detail_cell-module__skus__row__text___M48Ih"};function qe(e){var t=e.imgThumbUrl,a=e.code,n=e.name,i=e.total,s=e.skus,o=e.num,c=e.styleType,l=(0,m.useState)(!1),r=(0,Ae.Z)(l,2),A=r[0],_=r[1];return(0,ne.jsxs)(p.View,{className:v()(Ge.container,(0,u.Z)({},Ge["container--skus"],A)),style:{height:(0,d.pxTransform)(120+(A?40*(s.length+1):0))},children:[(0,ne.jsxs)(p.View,{className:Ge.detail_cell,onClick:function(){9!==c&&_((function(e){return!e}))},children:[(0,ne.jsx)(p.Image,{className:Ge.avatar,src:t||He}),(0,ne.jsxs)(p.View,{className:Ge.content,children:[(0,ne.jsxs)(p.View,{className:v()(Ge.content__left,Ge.content__block),children:[(0,ne.jsx)(p.Text,{className:Ge.content__block__title,children:a}),(0,ne.jsx)(p.Text,{className:Ge.content__block__text,children:n})]}),(0,ne.jsxs)(p.View,{className:v()(Ge.content__right,Ge.content__block),children:[(0,ne.jsx)(p.Text,{className:Ge.content__block__title,children:"".concat((0,S.b)(i,!0),"¥").concat(Math.abs(i))}),9!==c&&(0,ne.jsxs)(p.Text,{className:Ge.content__block__text,children:[o,"件"]})]})]})]}),A&&A&&(0,ne.jsx)(p.View,{className:Ge.skus,style:{overflowX:s[0].length>5?"scroll":"auto"},children:s.map((function(e,t){return(0,ne.jsx)(p.View,{className:Ge.skus__row,style:{display:e.length<=5?"flex":"block"},children:e.map((function(e){return(0,ne.jsx)(p.View,{className:Ge.skus__row__text,children:e},e)}))},t.toString())}))})]})}function Ke(e){var t=e.reduce((function(e,t){var a=t.styleId||t.styleid;return e[a]?e[a].push(t):e[a]=[t],e}),{});return Object.keys(t).map((function(e){var a=t[e],n=a.reduce((function(e,t){return e.total=(0,ve.PD)(e.total,t.total),e.num=(0,ve.PD)(e.num,t.num),e}),{total:0,num:0}),o=(0,i.Z)(new Set(a.map((function(e){return e.sizename})))),c=(0,i.Z)(new Set(a.map((function(e){return e.colorname})))).map((function(e){var t=o.map((function(t){return a.reduce((function(a,n){return n.colorname===e&&n.sizename===t?a+Number(n.num)||0:a}),0)}));return[e].concat((0,i.Z)(t))}));return(0,s.Z)({skus:[["颜色/尺码"].concat((0,i.Z)(o))].concat((0,i.Z)(c)),name:a[0].stylename,code:a[0].stylecode,styleType:a[0].styleType,imgThumbUrl:a[0].imgThumbUrl||""},n)}))}function Fe(e){var t=e.title,a=e.onConfirm,n=e.onCancel,i=e.onRequestClose,s=e.visible,o=e.defaultInput,c=e.rules,l=(0,m.useState)(o||""),r=(0,Ae.Z)(l,2),A=r[0],u=r[1];return(0,m.useEffect)((function(){u(o||"")}),[o]),s?(0,ne.jsx)(oe.Z,{onRequestClose:i,visible:s,direction:ce.n.Center,containerClass:"bg_trans",children:(0,ne.jsxs)(p.View,{className:"input_modal",children:[(0,ne.jsx)(p.View,{className:"input_modal__title",children:t}),(0,ne.jsx)(p.View,{className:"input_modal__input",children:(0,ne.jsx)(p.View,{className:"input_modal__input__input",children:(0,ne.jsx)(p.Input,{style:{position:"relative",zIndex:1},focus:!0,onInput:function(e){u(e.detail.value)},value:A})})}),(0,ne.jsxs)(p.View,{className:"input_modal__btns",children:[(0,ne.jsx)(p.View,{className:"input_modal__btns__btn input_modal__btns__btn--left",onClick:function(){i(),n&&n()},children:"取消"}),(0,ne.jsx)(p.View,{className:"input_modal__btns__btn input_modal__btns__btn--right",onClick:function(){(function(e){if(Array.isArray(c))for(var t=0;t<c.length;t++){var a=c[t],n=a.maxLength,i=void 0===n?Number.MAX_SAFE_INTEGER:n,s=a.minLength,o=void 0===s?0:s,l=a.msg,r=a.rule;if(e.length>i||e.length<o||r&&!r.test(e))return _().showToast({title:l,icon:"none",duration:1200}),!1}return!0})(A)&&(i(),a&&a(A))},children:"确定"})]})]})}):null}var Je=a(46414),ze=[{value:1,label:(0,L.t)("statement:receipt")},{value:2,label:(0,L.t)("statement:detail")}];var Xe=function(e){(0,r.Z)(a,e);var t=(0,A.Z)(a);function a(e){var n,c;(0,o.Z)(this,a),c=t.call(this,e),(0,u.Z)((0,l.Z)(c),"defaultReceiptDropDownData",[{value:0,label:(0,L.t)("statement:allReceipt"),active:!0},{value:1,label:(0,L.t)("statement:unpaidReceipt"),active:!1},{value:3,label:"退单",active:!1}]),(0,u.Z)((0,l.Z)(c),"defaultDetailDropDownData",[{value:0,label:(0,L.t)("statement:allDetail"),active:!0},{value:1,label:(0,L.t)("statement:buy"),active:!1},{value:2,label:(0,L.t)("statement:refund"),active:!1}]),(0,u.Z)((0,l.Z)(c),"headerHeight",0),(0,u.Z)((0,l.Z)(c),"isAllListDataLoaded",!1),(0,u.Z)((0,l.Z)(c),"receiptTops",[]),(0,u.Z)((0,l.Z)(c),"scrollTop",0),(0,u.Z)((0,l.Z)(c),"scale",.5),(0,u.Z)((0,l.Z)(c),"uploadTrackEvent",(function(){var e,t;switch((null===(e=_().getCurrentInstance)||void 0===e?void 0:e.call(_())).params.statementSource){case"1":t=j.y2.details;break;case"2":t=j.y2.notification;break;default:t=j.y2.public}M.Z.track(j.ZP.statement,t)})),(0,u.Z)((0,l.Z)(c),"initShopInfo",(function(){var e,t=(0,S.JU)(null===(e=_().getCurrentInstance)||void 0===e?void 0:e.call(_())).shopId;c.props.dispatch({type:"statement/initShop",payload:{shopId:t}})})),(0,u.Z)((0,l.Z)(c),"getCommonParams",(function(){var e,t=(0,S.JU)(null===(e=_().getCurrentInstance)||void 0===e?void 0:e.call(_())),a=t.shopId,n=t.sn,i=t.epid,s=c.props.sessionId,o=c.state,l=o.startDate,r=o.endDate,A=c.props.activeShop,u=Number(a),d=Number(n),m=Number(i);if(A&&(u=A.shopid,d=A.sn,m=A.epid),!m)throw new Error("未关联店铺");return{sessionId:s,sn:d,epid:m,shopId:u,startDate:l,endDate:r}})),(0,u.Z)((0,l.Z)(c),"fetchData",(function(){c.fetchCommonData(),c.fetchListData()})),(0,u.Z)((0,l.Z)(c),"fetchCommonData",(function(){try{var e=c.getCommonParams();if(!e.epid)return;(0,I.XY)(e).then((function(e){c.setState({commonData:e.data})}))}catch(e){_().showToast({title:e.message,icon:"none"})}})),(0,u.Z)((0,l.Z)(c),"fetchReceiptData",(function(){try{var e=c.getCommonParams();if(!e.epid)return;var t=c.state.dropDownData.find((function(e){return e.active})),a=t?t.value:0;(0,I.gG)((0,s.Z)((0,s.Z)({},e),{},{searchType:a})).then((function(e){var t=(e.data.lstSalesByBill||[]).reduce((function(e,t){var a=e[e.length-1];return a&&a.date&&a.date===(0,S.on)(t.prodate)?a.data.push(t):e.push({date:(0,S.on)(t.prodate),data:[(0,s.Z)({},t)]}),e}),[]),a=t[0]?t[0].date:"";c.setState({receiptListData:t,currentDate:a},c.calculateListDatePosition)}))}catch(e){_().showToast({title:e.message,icon:"none"})}})),(0,u.Z)((0,l.Z)(c),"fetchDetailsData",(function(){try{var e=c.getCommonParams();if(!e.epid)return;(0,I.by)(e).then((function(e){var t,a=c.state.dropDownData,n=e.data,s=n.lstBackByDetail,o=void 0===s?[]:s,l=n.lstSalesByDetail,r=void 0===l?[]:l,A=a.find((function(e){return e.active})),u=A?A.value:0;t=0===u?[].concat((0,i.Z)(Ke(r)),(0,i.Z)(Ke(o))):1===u?(0,i.Z)(Ke(r)):(0,i.Z)(Ke(o)),c.setState({detailListData:t})}))}catch(e){_().showToast({title:e.message,icon:"none"})}})),(0,u.Z)((0,l.Z)(c),"fetchListData",(function(){0===c.state.activeTabIndex?c.fetchReceiptData():c.fetchDetailsData()})),(0,u.Z)((0,l.Z)(c),"calculateListDatePosition",(function(){var e=c.headerHeight,t=c.state.receiptListData.reduce((function(t,a){var n=(140*a.data.length+80)*c.scale,s=[].concat((0,i.Z)(t),[e]);return e+=n,s}),[]);c.receiptTops=t})),(0,u.Z)((0,l.Z)(c),"onStarClick",(function(){if(0===c.props.activeShop.mineErp)return k.Z.showToast("你没有权限操作该店铺");c.props.dispatch({type:"statement/toggleStarShop"})})),(0,u.Z)((0,l.Z)(c),"showRenameModal",(function(){c.setState({isRenameModalVisible:!0})})),(0,u.Z)((0,l.Z)(c),"hideRenameModal",(function(){c.setState({isRenameModalVisible:!1})})),(0,u.Z)((0,l.Z)(c),"onEditClick",(function(){if(0===c.props.activeShop.mineErp)return k.Z.showToast("你没有权限操作该店铺");c.showRenameModal()})),(0,u.Z)((0,l.Z)(c),"onUnfollowClick",(function(){if(0===c.props.activeShop.mineErp)return k.Z.showToast("你没有权限操作该店铺");var e=c.props.activeShop;_().showModal({title:(0,L.t)("unfollowModalTitle"),content:(0,L.t)("unfollowModalContent"),confirmText:(0,L.t)("confirm"),cancelText:(0,L.t)("cancel")}).then((function(t){if(t.confirm){var a={flag:1,sn:e.sn,epid:e.epid,shopid:e.shopid};(0,I.G9)(a).then((function(){c.props.dispatch({type:"statement/afterUnfollowShop"})})).catch((function(e){return console.log(e)}))}}))})),(0,u.Z)((0,l.Z)(c),"onSaveShopName",(function(e){c.getCommonParams().sessionId;var t=c.props.activeShop;t&&(0,I.WT)({shopName:e,mpErpId:t.id}).then((function(){c.props.dispatch({type:"shop/fetchShopList"})}))})),(0,u.Z)((0,l.Z)(c),"onShopCellClick",(function(e,t){c.state.shopSearchMode&&c.setState({shopSearchMode:!1}),c.props.dispatch({type:"statement/save",payload:{activeShopIndex:t}})})),(0,u.Z)((0,l.Z)(c),"onDateTabClick",(function(e,t){var a=(0,S.cm)(t.value),n=a.startDate,i=a.endDate;c.setState({startDate:n,endDate:i,activeDateTabIndex:e},c.fetchData)})),(0,u.Z)((0,l.Z)(c),"onDateClick",(function(){c.setState({isDateSelectModalVisible:!0})})),(0,u.Z)((0,l.Z)(c),"hideDatePicker",(function(){c.setState({isDateSelectModalVisible:!1})})),(0,u.Z)((0,l.Z)(c),"onConfirmDate",(function(e,t){c.hideDatePicker(),c.setState({startDate:e,endDate:t},c.fetchData)})),(0,u.Z)((0,l.Z)(c),"onQuestionClick",(function(){c.setState({isDescriptionModalVisible:!0})})),(0,u.Z)((0,l.Z)(c),"hideDescModal",(function(){c.setState({isDescriptionModalVisible:!1})})),(0,u.Z)((0,l.Z)(c),"onTabClick",(function(e){c.state.activeTabIndex!==e&&(0===e?(c.defaultDetailDropDownData=c.state.dropDownData,c.setState({dropDownData:c.defaultReceiptDropDownData})):(c.defaultReceiptDropDownData=c.state.dropDownData,c.setState({dropDownData:c.defaultDetailDropDownData})),c.setState({activeTabIndex:e},c.fetchListData))})),(0,u.Z)((0,l.Z)(c),"onDropDownMenuItemClick",(function(e){c.setState((function(t){return{dropDownData:t.dropDownData.map((function(t){return(0,s.Z)((0,s.Z)({},t),{},{active:e.value===t.value})}))}}),c.fetchListData)})),(0,u.Z)((0,l.Z)(c),"showFeedback",(function(){c.setState({isFeedbackVisible:!0})})),(0,u.Z)((0,l.Z)(c),"hideFeedback",(function(){c.setState({isFeedbackVisible:!1})})),(0,u.Z)((0,l.Z)(c),"onFeedback",(function(e){""!==e.trim()?(0,I.kc)(e).then((function(){c.hideFeedback(),k.Z.showToast("反馈成功")})):k.Z.showToast("请输入内容")})),(0,u.Z)((0,l.Z)(c),"onReceiptClick",(function(e){var t,a=c.getCommonParams(),n=(0,S.JU)(null===(t=_().getCurrentInstance)||void 0===t?void 0:t.call(_())),i="pk=".concat(e,"&sn=").concat(a.sn,"&epid=").concat(a.epid,"&sessionId=").concat(a.sessionId,"&shopId=").concat(a.shopId,"&shopName=").concat(n.shopName,"&type=1");B.Z.navigateTo({url:"/pages/eTicketDetail/landscapeModel?".concat(i)})})),(0,u.Z)((0,l.Z)(c),"toggleViewType",(function(){c.setState((function(e){return{isShopListVisible:!e.isShopListVisible}}))})),(0,u.Z)((0,l.Z)(c),"onShopSearchFocus",(function(){c.setState({shopSearchMode:!0})})),(0,u.Z)((0,l.Z)(c),"onCancelShopSearch",(function(){c.setState({shopSearchMode:!1}),c.props.dispatch({type:"statement/save",payload:{shopSearchKey:""}})})),(0,u.Z)((0,l.Z)(c),"onShopSearchInput",U()((function(e){c.props.dispatch({type:"statement/save",payload:{shopSearchKey:e.detail.value}})}),200));var r=(null===(n=_().getCurrentInstance)||void 0===n?void 0:n.call(_())).params;return c.state={isDateSelectModalVisible:!1,isDescriptionModalVisible:!1,startDate:D()().subtract(15,"day").format("YYYY-MM-DD"),endDate:D()().format("YYYY-MM-DD"),dropDownData:c.defaultReceiptDropDownData,activeTabIndex:0,activeDateTabIndex:1,currentDate:"",commonData:{beginsum:0,endsum:0,sendsum:0,paysum:0,adjustsum:0,backsum:0},receiptListData:[],detailListData:[],shopName:r.shopName?decodeURIComponent(r.shopName):"",isShopListVisible:!0,isRenameModalVisible:!1,isFeedbackVisible:!1,shopSearchMode:!1},c}return(0,c.Z)(a,[{key:"componentDidMount",value:function(){this.uploadTrackEvent();var e=_().getSystemInfoSync().windowWidth;this.scale=e/750,this.headerHeight=500*this.scale,this.props.shopListLoaded&&(this.initShopInfo(),0===this.props.activeShopIndex&&this.fetchData()),R("statement_enter")}},{key:"componentDidUpdate",value:function(e){!e.activeShop&&this.props.activeShop&&this.fetchData(),e.activeShop&&this.props.activeShop&&e.activeShop.id!==this.props.activeShop.id&&this.fetchData(),!e.shopListLoaded&&this.props.shopListLoaded&&this.initShopInfo()}},{key:"onPageScroll",value:function(e){var t=e.scrollTop,a=this.state,n=a.receiptListData,i=a.activeTabIndex;a.commonData.adjustsum;if(1!==i){this.scrollTop=t;for(var s=0;s<this.receiptTops.length-1;s++){var o=this.receiptTops[s],c=this.receiptTops[s+1];if(t<o||t>o&&t<c||t>c&&s===this.receiptTops.length-2){var l=n[s].date;t>c&&s===this.receiptTops.length-2&&(l=n[s+1].date),l!==this.state.currentDate&&this.setState({currentDate:l});break}}}}},{key:"render",value:function(){var e,t=this,a=this.state,n=(a.isDateSelectModalVisible,a.isDescriptionModalVisible),i=(a.startDate,a.endDate,a.dropDownData),o=a.currentDate,c=a.activeTabIndex,l=a.commonData,r=a.receiptListData,A=a.detailListData,_=a.activeDateTabIndex,m=a.isShopListVisible,h=a.isRenameModalVisible,f=(a.isFeedbackVisible,a.shopSearchMode),D=this.props,w=D.activeShop,I=D.activeShopIndex,S=D.shopSearchKey,k=D.shopList,V=0===(0===c?r:A).length,y=w&&w.shopName||this.state.shopName;return(0,ne.jsxs)(p.View,{className:se.statement_container,children:[(0,ne.jsx)(p.View,{className:se.header,children:(0,ne.jsx)(T.Z,{activeTabIndex:_,onDateClick:this.onDateClick,onTabClick:this.onDateTabClick,onDateConfirm:this.onConfirmDate})}),(0,ne.jsxs)(p.View,{className:se.content,children:[(0,ne.jsxs)(p.View,{className:v()(se.content__left,(e={},(0,u.Z)(e,se["content__left--hide"],!m),(0,u.Z)(e,se["content__left--full"],f),e)),children:[(0,ne.jsxs)(p.View,{className:v()(se.content__left__search,{}),children:[(0,ne.jsx)(p.Image,{src:C,className:se.content__left__search__icon}),(0,ne.jsx)(p.Input,{className:se.content__left__search__input,value:S,onFocus:this.onShopSearchFocus,onInput:this.onShopSearchInput,placeholder:"搜索"}),f&&(0,ne.jsx)(p.Text,{className:se.content__left__search__cancel,onClick:this.onCancelShopSearch,children:"取消"})]}),(0,ne.jsx)(p.ScrollView,{className:se.content__left__shop_list,scrollY:!0,children:k.map((function(e,a){return(0,ne.jsx)(H.Z,{size:"small",shopItem:e,onShopNameClick:t.onShopCellClick,index:a,checkShopIndex:f?-1:I},e.id)}))})]}),!f&&(0,ne.jsx)(p.View,{className:v()(se.hideShopList,(0,u.Z)({},se["hideShopList--hide"],!m)),onClick:this.toggleViewType,children:(0,ne.jsx)(p.Image,{src:x,className:se.hideArrowImg,style:m?{}:{transform:"rotateY(180deg)"}})}),(0,ne.jsxs)(p.View,{className:v()(se.content__right,(0,u.Z)({},se["content__right--hide"],f)),children:[(0,ne.jsx)(ie,{onQuestionClick:this.onQuestionClick,data:l,shopName:y,onStarClick:this.onStarClick,star:w&&1===w.showOrder,onEditClick:this.onEditClick,onUnfollowClick:this.onUnfollowClick}),(0,ne.jsxs)(p.View,{children:[(0,ne.jsxs)(p.View,{className:se.sticky_part,children:[(0,ne.jsxs)(p.View,{id:"tab_container",children:[(0,ne.jsx)(g.Z,{data:ze,onTabItemClick:this.onTabClick}),(0,ne.jsx)(p.View,{style:{position:"absolute",top:0,right:(0,d.pxTransform)(40)},children:(0,ne.jsx)(we,{data:i,onItemClick:this.onDropDownMenuItemClick})})]}),0===c&&!V&&(0,ne.jsx)(p.View,{className:se.list__date,children:o})]}),V?(0,ne.jsxs)(p.View,{className:se.no_data_wrapper,children:[(0,ne.jsx)(p.Image,{src:b,className:se.no_data}),(0,ne.jsx)(p.View,{children:"暂无数据～"})]}):(0,ne.jsx)(p.View,{className:se.list,children:0===c?r.map((function(e,a){return(0,ne.jsxs)(p.View,{children:[a>0&&(0,ne.jsx)(p.View,{className:v()(se.list__date,"list_date"),children:e.date}),(0,ne.jsx)(p.View,{children:e.data.map((function(e){return(0,ne.jsx)(Ue,{data:e,onReceiptClick:t.onReceiptClick},e.billno)}))})]},e.date)})):A.map((function(e){return(0,ne.jsx)(qe,(0,s.Z)({},e),e.imgThumbUrl)}))})]})]})]}),(0,ne.jsx)(re,{visible:n,onRequestClose:this.hideDescModal}),h&&(0,ne.jsx)(Fe,{rules:[{maxLength:20,msg:"长度应小于20个字符"}],visible:h,title:"修改店名",onConfirm:this.onSaveShopName,onRequestClose:this.hideRenameModal,defaultInput:y})]})}}]),a}(m.PureComponent),Qe=(0,h.$j)((function(e){return{shopList:(0,Je.f)(e),shopListLoaded:e.shop.shopListLoaded,activeShopIndex:e.statement.activeShopIndex,activeShop:(0,Je.x)(e),sessionId:e.user.sessionId,shopSearchKey:e.statement.shopSearchKey}}))(Xe);Page((0,n.createPageConfig)(Qe,"subpackages/mine/pages/statement/index",{root:{cn:[]}},{navigationBarTitleText:"对账单"}||{}))}},function(e){e.O(0,[7840,8510,7383,3382,3629,3647,5599,6679,4436,4121,9617,3247,3894,2446,520,6339,8915,2107,1216,8592],(function(){return t=55614,e(e.s=t);var t}));e.O()}]);