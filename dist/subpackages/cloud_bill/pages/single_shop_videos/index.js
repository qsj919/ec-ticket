"use strict";require("../../sub-vendors.js");require("../../sub-common/ea5651c74a764b7a53f5764aba833936.js");require("../../sub-common/60464b2b77061df0626bd7ecea16c659.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[5806],{49701:function(o,i,e){var n=e(32180),t=e(33661),s=e(12742),l=e(22700),d=e(95333),a=e(14175),c=e(3701),r=e(92954),u=e.n(r),h=e(67294),p=e(71515),g=e(75508),f=e(844),v=e(6420),C=e(69558),Z=e(18691),k="index-module__page___BxrEq",b=e(85893),x=function(o){(0,d.Z)(e,o);var i=(0,a.Z)(e);function e(o){var n;(0,t.Z)(this,e),n=i.call(this,o),(0,c.Z)((0,l.Z)(n),"allListLength",0),(0,c.Z)((0,l.Z)(n),"onShopClick",(function(){})),(0,c.Z)((0,l.Z)(n),"onVideoChange",(function(o){o===n.allListLength-2&&u().eventCenter.trigger("on_detail_reach_bottom")})),(0,c.Z)((0,l.Z)(n),"onVideoChangeButStillAnimation",(function(){})),(0,c.Z)((0,l.Z)(n),"onGoodsAddClick",(function(o){n.props.dispatch({type:"cloudBill/showColorSizeInList",payload:{spuId:o}})})),(0,c.Z)((0,l.Z)(n),"onGoodsDetailClick",(function(o){n.props.dispatch({type:"cloudBill/fetchGoodsDetail",payload:{spuId:o}}),u().navigateTo({url:"/subpackages/cloud_bill/pages/goods_detail/index?spuId=".concat(o)})}));var s=n.props,d=s.videos,a=s.goodsVideoList,r=(0,v.s)(d,a).findIndex((function(o){var i;return o.id===Number((0,v.JU)(null===(i=u().getCurrentInstance)||void 0===i?void 0:i.call(u())).videoId)}));return n.state={initialIndex:Number(r>-1?r:0)},n}return(0,s.Z)(e,[{key:"render",value:function(){var o=this.props,i=o.colorSizeVisible,e=o.videos,n=o.goodsVideoList,t=o.showPrice,s=this.state.initialIndex,l=(0,v.s)(e,n);return(0,b.jsxs)(f.Z,{enableBack:!0,stickyTop:!0,children:[(0,b.jsx)(p.View,{className:k,children:(0,b.jsx)(Z.Z,{videoList:l,onShopClick:this.onShopClick,onAnimationFinish:this.onVideoChange,onChange:this.onVideoChangeButStillAnimation,showShopInfo:!1,initialIndex:s,showBottomBtn:!1,showPrice:"1"===t,onAddClick:this.onGoodsAddClick,onGoodsDetailClick:this.onGoodsDetailClick})}),(0,b.jsx)(C.Z,{visible:i,type:"buttons"},"shop_video")]})}}]),e}(h.PureComponent),S=(0,g.$j)((function(o){var i=o.cloudBill,e=o.loading;return{videos:i.videos,goodsVideoList:i.goodsVideoList,colorSizeVisible:i.colorSizeVisible,showPrice:i.shopParams.spuShowPrice,isLoading:e.effects["cloudBill/fetchShopVideos"]&&e.effects["cloudBill/fetchShopVideos"].loading}}))(x);Page((0,n.createPageConfig)(S,"subpackages/cloud_bill/pages/single_shop_videos/index",{root:{cn:[]}},{navigationStyle:"custom"}||{}))}},function(o){o.O(0,[666,1772,6690,3658,2107,1216,8592],(function(){return i=49701,o(o.s=i);var i}));o.O()}]);