"use strict";require("../../sub-vendors.js");require("../../sub-common/ea5651c74a764b7a53f5764aba833936.js");require("../../sub-common/60464b2b77061df0626bd7ecea16c659.js");require("../../sub-common/bb2c8c0f711cf957fde499897943f6c9.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[7578],{40084:function(e,s,o){var a=o(32180),i=o(33661),t=o(12742),r=o(22700),c=o(95333),l=o(14175),n=o(3701),h=o(67294),d=o(71515),u=o(75508),p=o(44559),f=o(31254),g=o(41803),S=o(69558),v=o(85893),y=function(e){(0,c.Z)(o,e);var s=(0,l.Z)(o);function o(e){var a;return(0,i.Z)(this,o),a=s.call(this,e),(0,n.Z)((0,r.Z)(a),"onInput",(function(e){a.setState({searchKey:e})})),(0,n.Z)((0,r.Z)(a),"onSearch",(function(){var e=a.state.searchKey;a.props.dispatch({type:"cloudBill/fetchGoodsSearchList",payload:{styleNameLike:e}}),a.setState({isFirstSearch:!1})})),(0,n.Z)((0,r.Z)(a),"onClearSearch",(function(){a.setState({searchKey:"",isFirstSearch:!0})})),a.state={searchKey:"",isFirstSearch:!0},a}return(0,t.Z)(o,[{key:"onReachBottom",value:function(){if(!((this.props.goodsList&&this.props.goodsList.length)<f.ab*this.props.pageNo)){var e=this.state.searchKey;this.props.dispatch({type:"cloudBill/fetchGoodsSearchList",payload:{styleNameLike:e,loadMore:!0}})}}},{key:"render",value:function(){var e=this.props,s=e.goodsList,o=e.isLoadingMore,a=e.pageNo,i=e.showPrice,t=e.colorSizeVisible,r=this.state.isFirstSearch;return(0,v.jsxs)(d.View,{children:[(0,v.jsxs)(d.View,{className:"search_contanier",children:[(0,v.jsx)(p.Z,{focus:!0,onInput:this.onInput,allgoodSearch:!0,onSearchClick:this.onSearch,placeholder:"输入商品名称、款号搜索",onClearSearchClick:this.onClearSearch}),(0,v.jsx)(d.View,{className:"search_contanier_search_text",onClick:this.onSearch,children:"搜索"})]}),(0,v.jsx)(d.View,{className:"list_contanier",children:!r&&(0,v.jsx)(g.Z,{from:"allGoods",effectsName:"cloudBill/fetchGoodsSearchList",dresStyleResultList:s,loadMoreDataVisible:o,showPrice:i,noMoreDataVisible:!o&&(s&&s.length)<a*f.ab,listHeight:"100vh"})}),(0,v.jsx)(S.Z,{visible:t,type:"buttons"},"all_goods")]})}}]),o}(h.PureComponent),L=(0,u.$j)((function(e){var s=e.cloudBill,o=e.loading;return{pageNo:s.searchPageNo,goodsList:s.goodsSearchList,isLoadingMore:o.effects["cloudBill/fetchGoodsSearchList"]&&o.effects["cloudBill/fetchGoodsSearchList"].loading&&s.searchPageNo>1,showPrice:"1"===s.shopParams.spuShowPrice,colorSizeVisible:s.colorSizeVisible}}))(y);Page((0,a.createPageConfig)(L,"subpackages/cloud_bill/pages/all_goods_search_view/index",{root:{cn:[]}},{navigationBarTitleText:"搜索",navigationBarBackgroundColor:"#f7f7f7"}||{}))}},function(e){e.O(0,[666,1772,6690,3658,8936,2107,1216,8592],(function(){return s=40084,e(e.s=s);var s}));e.O()}]);