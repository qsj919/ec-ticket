"use strict";require("../../sub-vendors.js");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[8261],{18917:function(e,n,t){var a=t(32180),i=t(33661),o=t(12742),c=t(22700),s=t(95333),r=t(14175),l=t(3701),u=t(92954),g=t.n(u),h=t(67294),d=t(71515),v=t(8173),C=t(35314),f=t(6420),_=t(85893),w=function(e){(0,s.Z)(t,e);var n=(0,r.Z)(t);function t(e){var a,o;return(0,i.Z)(this,t),o=n.call(this,e),(0,l.Z)((0,c.Z)(o),"onClearClick",(function(){o.setState({url:""}),g().eventCenter.trigger("WX_CODE_URL_CLEAR"),g().navigateBack()})),(0,l.Z)((0,c.Z)(o),"onUpdateClick",(function(){o.onChooseImage()})),(0,l.Z)((0,c.Z)(o),"onChooseImage",(function(){g().showActionSheet({itemList:["从相册选取"],success:function(e){g().chooseImage({count:1,success:function(e){g().showLoading({title:"上传中..."}),(0,v.Ix)(e.tempFilePaths[0]).then((function(e){var n=e.data;g().hideLoading();var t=JSON.parse(n);o.setState({url:t.data.org[0]}),g().eventCenter.trigger("WX_CODE_URL",t.data.org[0])})).catch((function(e){g().hideLoading(),C.Z.log("上传图片失败".concat(e))}))},fail:function(){g().hideLoading()}})}})})),o.state={url:(0,f.JU)(null===(a=g().getCurrentInstance)||void 0===a?void 0:a.call(g())).url},o}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.state.url;return(0,_.jsxs)(d.View,{className:"shop_wx_code",children:[(0,_.jsx)(d.Image,{src:e,className:"code_view",mode:"aspectFill"}),(0,_.jsxs)(d.View,{className:"action_view",children:[(0,_.jsx)(d.View,{className:"action_view__left",onClick:this.onClearClick,children:"删除"}),(0,_.jsx)(d.View,{className:"action_view__right",onClick:this.onUpdateClick,children:"修改"})]})]})}}]),t}(h.Component);Page((0,a.createPageConfig)(w,"subpackages/manage/pages/shop_wx_code/index",{root:{cn:[]}},{navigationBarTitleText:"门店二维码"}||{}))}},function(e){e.O(0,[2107,1216,8592],(function(){return n=18917,e(e.s=n);var n}));e.O()}]);